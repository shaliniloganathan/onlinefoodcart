<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const mypromise = new Promise((resolve,reject)=>{
    const error=false;
    if(!error){
        resolve("yes,resolved")
    }else{
        reject("no,not resolved")
    }
})

const mynextpromise=new Promise((resolve,reject)=>{
    setTimeout(function(){
        resolve ("mynextpromise resolved")
    },3000)
})
mypromise
.then(value=>{
    console.log(value)
})
mynextpromise
.then(value=>{
    return value+ " welcome"
})
.then(newValue =>console.log(newValue))
.catch(err=>{
    console.log(err)
}) 




// const user = fetch("https://jsonplaceholder.typicode.com/users")
// .then(response=>{
//     return response.json()
// })
// .then(getuser=>{
//     getuser.forEach(user=>{
//         console.log(user)
//     })
// })

// console.log(getuser)




//async / await
const persons =async () =>{
    const response = await fetch("https://jsonplaceholder.typicode.com/users")
    const data = await response.json()
    
    // console.log(data)
    return data

}
persons()

const myuser ={
    userlist:[]
}
const anotherfunction = async()=>{
 const data = await persons()
 myuser.userlist=data
 console.log(myuser)
 return data
 
 
}
anotherfunction()



// const getdadjokes=async()=>{
//     const r=("https://icanhazdadjoke.com", 
//     {
//     method:"GET",
//     Headers:{
//         Accept:"application/json"
//     }
//     })
//     const jsondadjokes=await r.text
//     console.log(jsondadjokes)
// }
// getdadjokes()

const one=async()=>{

const jokes =await fetch("https://jsonplaceholder.typicode.com/users")
const getjoke=await jokes.json()
console.log(getjoke)
return getjoke
}
one()
    </script>
</body>
</html>